<div class="card mb-4 rounded-3 shadow-sm chat">
  <div class="card-header py-3">
    <h4 class="my-0 fw-normal text-center">Sala de Chat</h4>
  </div>

  <div class="card-body chat"> 
    <div #salachat class="mensajes" *ngFor="let mje of mensajes">
      
      <div class="row m-1 ">
        <div class="col">
          <div class="alert alert-success p-1" *ngIf="mje.userEmail == userService.currentUser.email">
            <p class="mb-0"><strong>{{mje.userName}}: </strong><small>{{mje.fecha | date:'short'}}</small></p>
            <p class="mb-0"> {{mje.message}}</p> 
          </div>

          <div class="alert alert-secondary p-1" *ngIf="mje.userEmail != userService.currentUser.email">
            <p class="mb-0"><strong>{{mje.userName}}: </strong><small>{{mje.fecha | date:'short'}}</small></p>
            <p class="mb-0"> {{mje.message}}</p>
          </div>
        </div>        
      </div>          
    </div>     
  </div>

  <div class="card-footer">
    <form [formGroup]="chatForm" (ngSubmit)="enviarMje()">
      <input type="text" class="form-control mje-ctrl" id="floatingInput" placeholder="Escriba aquí su mensaje" [(ngModel)]="mensaje" formControlName="messageCtrl">      
      <button type="submit" class="w-100 btn btn-lg btn-primary" [disabled]="chatForm.invalid">Enviar</button>      
      <small class="invalid" *ngIf="getMessageCtrl()?.errors?.maxlength && getMessageCtrl()?.touched">Máximo 50 caracteres</small>
    </form>
    
  </div>
</div>
